{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "b3b52f7b",
   "metadata": {},
   "source": [
    "# E- COMMERCE RECOMMENDER SYSTEM"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5c530289",
   "metadata": {},
   "source": [
    "# Data Wrangling and EDA"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bbb5a418",
   "metadata": {},
   "source": [
    "The objective of this notebook is to inspect, explore and clean the raw dataset in order to come up with a processed data frame that will feed into the modelling step"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "561ad7e8",
   "metadata": {},
   "source": [
    "## import"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 99,
   "id": "d3b6b228",
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "from sklearn.impute import KNNImputer\n",
    "from sklearn.preprocessing import MinMaxScaler"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d8f69607",
   "metadata": {},
   "source": [
    "## Loading and reading data"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "82d7cb88",
   "metadata": {},
   "source": [
    "Data source: https://www.kaggle.com/arashnic/marketing-bias-dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "058f5da2",
   "metadata": {},
   "outputs": [],
   "source": [
    "raw_data = pd.read_csv('/Users/judith/Data_science_projects/Springboard_AssignmentsJY/capstone_three/data/raw/df_modcloth.csv')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d7765f67",
   "metadata": {},
   "source": [
    "## Inspecting data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "ea290bfc",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>item_id</th>\n",
       "      <th>user_id</th>\n",
       "      <th>rating</th>\n",
       "      <th>timestamp</th>\n",
       "      <th>size</th>\n",
       "      <th>fit</th>\n",
       "      <th>user_attr</th>\n",
       "      <th>model_attr</th>\n",
       "      <th>category</th>\n",
       "      <th>brand</th>\n",
       "      <th>year</th>\n",
       "      <th>split</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>7443</td>\n",
       "      <td>Alex</td>\n",
       "      <td>4</td>\n",
       "      <td>2010-01-21 08:00:00+00:00</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Small</td>\n",
       "      <td>Small</td>\n",
       "      <td>Dresses</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>7443</td>\n",
       "      <td>carolyn.agan</td>\n",
       "      <td>3</td>\n",
       "      <td>2010-01-27 08:00:00+00:00</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Small</td>\n",
       "      <td>Dresses</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>7443</td>\n",
       "      <td>Robyn</td>\n",
       "      <td>4</td>\n",
       "      <td>2010-01-29 08:00:00+00:00</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Small</td>\n",
       "      <td>Small</td>\n",
       "      <td>Dresses</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>7443</td>\n",
       "      <td>De</td>\n",
       "      <td>4</td>\n",
       "      <td>2010-02-13 08:00:00+00:00</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Small</td>\n",
       "      <td>Dresses</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>7443</td>\n",
       "      <td>tasha</td>\n",
       "      <td>4</td>\n",
       "      <td>2010-02-18 08:00:00+00:00</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Small</td>\n",
       "      <td>Small</td>\n",
       "      <td>Dresses</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   item_id       user_id  rating                  timestamp  size  fit  \\\n",
       "0     7443          Alex       4  2010-01-21 08:00:00+00:00   NaN  NaN   \n",
       "1     7443  carolyn.agan       3  2010-01-27 08:00:00+00:00   NaN  NaN   \n",
       "2     7443         Robyn       4  2010-01-29 08:00:00+00:00   NaN  NaN   \n",
       "3     7443            De       4  2010-02-13 08:00:00+00:00   NaN  NaN   \n",
       "4     7443         tasha       4  2010-02-18 08:00:00+00:00   NaN  NaN   \n",
       "\n",
       "  user_attr model_attr category brand  year  split  \n",
       "0     Small      Small  Dresses   NaN  2012      0  \n",
       "1       NaN      Small  Dresses   NaN  2012      0  \n",
       "2     Small      Small  Dresses   NaN  2012      0  \n",
       "3       NaN      Small  Dresses   NaN  2012      0  \n",
       "4     Small      Small  Dresses   NaN  2012      0  "
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "raw_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "001693b2",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>item_id</th>\n",
       "      <th>rating</th>\n",
       "      <th>size</th>\n",
       "      <th>year</th>\n",
       "      <th>split</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>count</th>\n",
       "      <td>99893.000000</td>\n",
       "      <td>99893.000000</td>\n",
       "      <td>78133.000000</td>\n",
       "      <td>99893.000000</td>\n",
       "      <td>99893.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>mean</th>\n",
       "      <td>83944.091208</td>\n",
       "      <td>4.209594</td>\n",
       "      <td>3.217322</td>\n",
       "      <td>2015.476450</td>\n",
       "      <td>0.358564</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>std</th>\n",
       "      <td>43558.135979</td>\n",
       "      <td>1.080633</td>\n",
       "      <td>1.885934</td>\n",
       "      <td>1.970262</td>\n",
       "      <td>0.720993</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>min</th>\n",
       "      <td>6454.000000</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>2010.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25%</th>\n",
       "      <td>48629.000000</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>2.000000</td>\n",
       "      <td>2014.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>50%</th>\n",
       "      <td>77878.000000</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>3.000000</td>\n",
       "      <td>2016.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75%</th>\n",
       "      <td>120126.000000</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>4.000000</td>\n",
       "      <td>2017.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>max</th>\n",
       "      <td>155950.000000</td>\n",
       "      <td>5.000000</td>\n",
       "      <td>8.000000</td>\n",
       "      <td>2019.000000</td>\n",
       "      <td>2.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "             item_id        rating          size          year         split\n",
       "count   99893.000000  99893.000000  78133.000000  99893.000000  99893.000000\n",
       "mean    83944.091208      4.209594      3.217322   2015.476450      0.358564\n",
       "std     43558.135979      1.080633      1.885934      1.970262      0.720993\n",
       "min      6454.000000      1.000000      0.000000   2010.000000      0.000000\n",
       "25%     48629.000000      4.000000      2.000000   2014.000000      0.000000\n",
       "50%     77878.000000      5.000000      3.000000   2016.000000      0.000000\n",
       "75%    120126.000000      5.000000      4.000000   2017.000000      0.000000\n",
       "max    155950.000000      5.000000      8.000000   2019.000000      2.000000"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "raw_data.describe()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "9b021f16",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "RangeIndex: 99893 entries, 0 to 99892\n",
      "Data columns (total 12 columns):\n",
      " #   Column      Non-Null Count  Dtype  \n",
      "---  ------      --------------  -----  \n",
      " 0   item_id     99893 non-null  int64  \n",
      " 1   user_id     99892 non-null  object \n",
      " 2   rating      99893 non-null  int64  \n",
      " 3   timestamp   99893 non-null  object \n",
      " 4   size        78133 non-null  float64\n",
      " 5   fit         81387 non-null  object \n",
      " 6   user_attr   91526 non-null  object \n",
      " 7   model_attr  99893 non-null  object \n",
      " 8   category    99893 non-null  object \n",
      " 9   brand       25913 non-null  object \n",
      " 10  year        99893 non-null  int64  \n",
      " 11  split       99893 non-null  int64  \n",
      "dtypes: float64(1), int64(4), object(7)\n",
      "memory usage: 9.1+ MB\n"
     ]
    }
   ],
   "source": [
    "raw_data.info()  # checking data types"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4c2b088d",
   "metadata": {},
   "source": [
    "### Analysing ratings and users"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "id": "52040f6f",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/judith/opt/anaconda3/lib/python3.7/site-packages/seaborn/distributions.py:2557: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).\n",
      "  warnings.warn(msg, FutureWarning)\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "<AxesSubplot:xlabel='rating', ylabel='Density'>"
      ]
     },
     "execution_count": 101,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 864x432 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# ratings distribution\n",
    "plt.figure(figsize = (12,6))\n",
    "sns.distplot(raw_data.rating)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 137,
   "id": "27eb84b7",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>rating</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>item_id</th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>6454</th>\n",
       "      <td>3.818182</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7443</th>\n",
       "      <td>3.772502</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11960</th>\n",
       "      <td>4.033958</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16411</th>\n",
       "      <td>3.668254</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21296</th>\n",
       "      <td>4.171760</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>155308</th>\n",
       "      <td>4.700000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>155317</th>\n",
       "      <td>4.575758</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>155537</th>\n",
       "      <td>4.090909</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>155597</th>\n",
       "      <td>3.285714</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>155950</th>\n",
       "      <td>4.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1020 rows Ã— 1 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "           rating\n",
       "item_id          \n",
       "6454     3.818182\n",
       "7443     3.772502\n",
       "11960    4.033958\n",
       "16411    3.668254\n",
       "21296    4.171760\n",
       "...           ...\n",
       "155308   4.700000\n",
       "155317   4.575758\n",
       "155537   4.090909\n",
       "155597   3.285714\n",
       "155950   4.000000\n",
       "\n",
       "[1020 rows x 1 columns]"
      ]
     },
     "execution_count": 137,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "avg_rating = raw_data[['item_id', 'rating']]\n",
    "mean_rating = avg_rating.groupby('item_id').count()\n",
    "mean_rating.sort_values(by = 'rating', ascending = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 144,
   "id": "a269ba8c",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 360x360 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sns.displot(mean_rating.rating)\n",
    "plt.title('Average number of rating by item')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e8ad7f44",
   "metadata": {},
   "source": [
    "Rating distribution is very dense with no gap in data over a scale from 1 to 5\n",
    "Distribution of average number of rating per item is right skewed. There are some 'very popular' items with high frequency of rating while others have much lower number of rating"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 113,
   "id": "9fac0850",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "There are 44783 users and 1020 items for a ratio of 43.904901960784315 items purchased by user\n"
     ]
    }
   ],
   "source": [
    "# calculating average number of items purchased by user\n",
    "users = raw_data['user_id'].nunique()\n",
    "items = len(np.unique(raw_data.item_id))\n",
    "print('There are {} users and {} items for a ratio of {} items purchased by user'.format(users, items, users/items))"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9f8caa8b",
   "metadata": {},
   "source": [
    "We have far more users than products, this means that we have more data to cover many different types user profiles "
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b73db45e",
   "metadata": {},
   "source": [
    "## Checking missing value"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "36474651",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "item_id           0\n",
       "user_id           1\n",
       "rating            0\n",
       "timestamp         0\n",
       "size          21760\n",
       "fit           18506\n",
       "user_attr      8367\n",
       "model_attr        0\n",
       "category          0\n",
       "brand         73980\n",
       "year              0\n",
       "split             0\n",
       "dtype: int64"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "raw_data.isnull().sum() # checking quantities of null values"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "b1993200",
   "metadata": {},
   "outputs": [],
   "source": [
    "missing = raw_data.isnull().sum()/len(raw_data)   # getting an idea of the proportion of missing data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "37072c04",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>missing</th>\n",
       "      <th>cat</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>item_id</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>user_id</th>\n",
       "      <td>0.000010</td>\n",
       "      <td>object</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>rating</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>timestamp</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>object</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>size</th>\n",
       "      <td>0.217833</td>\n",
       "      <td>float64</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>fit</th>\n",
       "      <td>0.185258</td>\n",
       "      <td>object</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>user_attr</th>\n",
       "      <td>0.083760</td>\n",
       "      <td>object</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>model_attr</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>object</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>category</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>object</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>brand</th>\n",
       "      <td>0.740592</td>\n",
       "      <td>object</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>year</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>split</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "             missing      cat\n",
       "item_id     0.000000    int64\n",
       "user_id     0.000010   object\n",
       "rating      0.000000    int64\n",
       "timestamp   0.000000   object\n",
       "size        0.217833  float64\n",
       "fit         0.185258   object\n",
       "user_attr   0.083760   object\n",
       "model_attr  0.000000   object\n",
       "category    0.000000   object\n",
       "brand       0.740592   object\n",
       "year        0.000000    int64\n",
       "split       0.000000    int64"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data_sum= pd.DataFrame({'missing':missing, 'cat': raw_data.dtypes})\n",
    "data_sum"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b2eed370",
   "metadata": {},
   "source": [
    "## Checking unique values in each column"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "ea54d73e",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Creating a function to count the number of unique values in each column\n",
    "\n",
    "def unique(df, cols):\n",
    "    unique_val = []\n",
    "    for col in cols:\n",
    "        unique_val.append(len(df[col].value_counts()))\n",
    "    return unique_val"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "cef5b541",
   "metadata": {},
   "outputs": [],
   "source": [
    "unique_val = unique(raw_data, data_sum.index)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "e34e664e",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>missing</th>\n",
       "      <th>cat</th>\n",
       "      <th>unique</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>item_id</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "      <td>1020</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>user_id</th>\n",
       "      <td>0.000010</td>\n",
       "      <td>object</td>\n",
       "      <td>44783</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>rating</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>timestamp</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>object</td>\n",
       "      <td>14741</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>size</th>\n",
       "      <td>0.217833</td>\n",
       "      <td>float64</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>fit</th>\n",
       "      <td>0.185258</td>\n",
       "      <td>object</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>user_attr</th>\n",
       "      <td>0.083760</td>\n",
       "      <td>object</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>model_attr</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>object</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>category</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>brand</th>\n",
       "      <td>0.740592</td>\n",
       "      <td>object</td>\n",
       "      <td>31</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>year</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "      <td>10</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>split</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>int64</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "             missing      cat  unique\n",
       "item_id     0.000000    int64    1020\n",
       "user_id     0.000010   object   44783\n",
       "rating      0.000000    int64       5\n",
       "timestamp   0.000000   object   14741\n",
       "size        0.217833  float64       9\n",
       "fit         0.185258   object       5\n",
       "user_attr   0.083760   object       2\n",
       "model_attr  0.000000   object       2\n",
       "category    0.000000   object       4\n",
       "brand       0.740592   object      31\n",
       "year        0.000000    int64      10\n",
       "split       0.000000    int64       3"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data_sum['unique'] = unique_val\n",
    "data_sum"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "6e249134",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Creating a function to display the unique values for attributes\n",
    "# this is limited to attributes having less than 10 unique values \n",
    "# Doing this allow us to see the type if info we could see from checking the head\n",
    "\n",
    "def unique_short(df, cols):\n",
    "    for col in cols:\n",
    "        print(col, df[col].value_counts())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "id": "791d6b11",
   "metadata": {},
   "outputs": [],
   "source": [
    "attributes= data_sum.loc[data_sum['unique'] < 10]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "4cc440d9",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "rating 5    54568\n",
      "4    24591\n",
      "3    11360\n",
      "2     5851\n",
      "1     3523\n",
      "Name: rating, dtype: int64\n",
      "size 2.0    18211\n",
      "3.0    17752\n",
      "1.0    15195\n",
      "5.0     7759\n",
      "4.0     7388\n",
      "6.0     6004\n",
      "7.0     3793\n",
      "8.0     1948\n",
      "0.0       83\n",
      "Name: size, dtype: int64\n",
      "fit Just right        55287\n",
      "Slightly large    11114\n",
      "Slightly small    10771\n",
      "Very large         2177\n",
      "Very small         2038\n",
      "Name: fit, dtype: int64\n",
      "user_attr Small    73161\n",
      "Large    18365\n",
      "Name: user_attr, dtype: int64\n",
      "model_attr Small&Large    57032\n",
      "Small          42861\n",
      "Name: model_attr, dtype: int64\n",
      "category Tops         34977\n",
      "Dresses      34160\n",
      "Bottoms      23625\n",
      "Outerwear     7131\n",
      "Name: category, dtype: int64\n",
      "split 0    78551\n",
      "2    14476\n",
      "1     6866\n",
      "Name: split, dtype: int64\n"
     ]
    }
   ],
   "source": [
    "unique_short(raw_data, attributes.index)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d99b6bb4",
   "metadata": {},
   "source": [
    "**Summary of cleaning tasks :**\n",
    "- user_id:  \n",
    "    - currently values are stored as string (names of users) instead of numerical identifiers. We will convert the string into unique user id to replace the string ones\n",
    "    - There is 1 missing user_id value and the entire row will need to be removed\n",
    "- Timestamp\n",
    "    - We will drop this column as it wont be useful for any of our analysis\n",
    "- size\n",
    "    - There are about 22% missing values. We can apply a nearest neighbor strategy to populate these missing values\n",
    "    - type object to be converted into numeric using one hot encoding\n",
    "- fit\n",
    "    - There are about 18% of missing values. We will apply the same strategy as size for missing values. \n",
    "    - type object to be converted into numeric using one hot encoding\n",
    "\n",
    "- user_attr\n",
    "    - there are 8% of missing values. sWe will apply the same strategy as size for missing values.\n",
    "    - type object to be converted into numeric using one hot encoding\n",
    "    \n",
    "- model_attr\n",
    "    - no missing values\n",
    "    - type object to be converted into numeric using one hot encoding\n",
    "    \n",
    "- category\n",
    "    - no missing values\n",
    "    - type object to be converted into numeric using one hot encoding\n",
    "\n",
    "- brand\n",
    "    - There are about 74% of missing values which means this column will be useless. we will simply drop it.\n",
    "    \n",
    "Others columns (item_id, rating, timestamp, year and split) do not have to be processed as already in the right type with no missing values"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "687ede24",
   "metadata": {},
   "source": [
    "## Cleaning data"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c1a40dbf",
   "metadata": {},
   "source": [
    "### Dropping unuseful columns and rows"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "d3a800b1",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['item_id', 'user_id', 'rating', 'size', 'fit', 'user_attr',\n",
       "       'model_attr', 'category', 'year', 'split'],\n",
       "      dtype='object')"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Dropping the column 'brand' and checking it is effective\n",
    "data = raw_data.drop(['brand','timestamp'], axis = 1) # we are creating a new dataframe 'data' to keep clean data\n",
    "data.columns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "5404ee67",
   "metadata": {},
   "outputs": [],
   "source": [
    "# dropping the row with missing user_id\n",
    "data.dropna(subset = ['user_id'], inplace = True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "8897c065",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "False    99892\n",
       "Name: user_id, dtype: int64"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# checking that the change is effective\n",
    "data.user_id.isnull().value_counts()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "66938638",
   "metadata": {},
   "source": [
    "### Converting 'user_id' from text (alphabetical) to numerical values"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "ac815ec0",
   "metadata": {},
   "outputs": [],
   "source": [
    "# function to convert string into numeric\n",
    "def string_to_num(array):\n",
    "    input_list = []\n",
    "    for word in array:\n",
    "        empty_list = []\n",
    "        for char in word:\n",
    "            x = ord(char)    \n",
    "            empty_list.append(x)\n",
    "        input_list.append(empty_list)\n",
    "    return input_list\n",
    "\n",
    "    "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "fa2282eb",
   "metadata": {},
   "outputs": [],
   "source": [
    "# function to join convert the numerical list into single value for each row\n",
    "def num_to_string(array):\n",
    "    output_list = []\n",
    "    for num in array:\n",
    "        strings = [str(integer) for integer in num]\n",
    "        a_string = \"\".join(strings)\n",
    "        an_integer = int(a_string)\n",
    "        output_list.append(an_integer)\n",
    "\n",
    "    return output_list"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "5662a66c",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Applying both function on user_id\n",
    "user_id_input = string_to_num(data.user_id)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "2853c800",
   "metadata": {},
   "outputs": [],
   "source": [
    "user_id_output = num_to_string(user_id_input)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "033c3155",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "99892 99892\n"
     ]
    }
   ],
   "source": [
    "# checking that the function works and the lenght of the newly created array \n",
    "# is same size as the original\n",
    "print(len(user_id_output), len(data.item_id))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "1ac1b749",
   "metadata": {},
   "outputs": [],
   "source": [
    "# adding the new array to the data frame\n",
    "data['num_user_id'] = user_id_output "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "d6b00565",
   "metadata": {},
   "outputs": [],
   "source": [
    "data['num_user_id']  = data['num_user_id'].astype(float)\n",
    "data.drop('user_id', axis = 1, inplace = True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "00437aff",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<class 'pandas.core.frame.DataFrame'>\n",
      "Int64Index: 99892 entries, 0 to 99892\n",
      "Data columns (total 10 columns):\n",
      " #   Column       Non-Null Count  Dtype  \n",
      "---  ------       --------------  -----  \n",
      " 0   item_id      99892 non-null  int64  \n",
      " 1   rating       99892 non-null  int64  \n",
      " 2   size         78132 non-null  float64\n",
      " 3   fit          81387 non-null  object \n",
      " 4   user_attr    91525 non-null  object \n",
      " 5   model_attr   99892 non-null  object \n",
      " 6   category     99892 non-null  object \n",
      " 7   year         99892 non-null  int64  \n",
      " 8   split        99892 non-null  int64  \n",
      " 9   num_user_id  99892 non-null  float64\n",
      "dtypes: float64(2), int64(4), object(4)\n",
      "memory usage: 8.4+ MB\n"
     ]
    }
   ],
   "source": [
    "# confirming the 'num_user_id' column has effectively been created\n",
    "# and is of right type\n",
    "data.info()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b8549707",
   "metadata": {},
   "source": [
    "### Encoding categorical columns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "c1efda74",
   "metadata": {},
   "outputs": [],
   "source": [
    "cleaned_data = pd.get_dummies(data, drop_first = True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "id": "90ec1814",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>item_id</th>\n",
       "      <th>rating</th>\n",
       "      <th>size</th>\n",
       "      <th>year</th>\n",
       "      <th>split</th>\n",
       "      <th>num_user_id</th>\n",
       "      <th>fit_Slightly large</th>\n",
       "      <th>fit_Slightly small</th>\n",
       "      <th>fit_Very large</th>\n",
       "      <th>fit_Very small</th>\n",
       "      <th>user_attr_Small</th>\n",
       "      <th>model_attr_Small&amp;Large</th>\n",
       "      <th>category_Dresses</th>\n",
       "      <th>category_Outerwear</th>\n",
       "      <th>category_Tops</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>7443</td>\n",
       "      <td>4</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "      <td>6.510810e+10</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>7443</td>\n",
       "      <td>3</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "      <td>9.997114e+30</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>7443</td>\n",
       "      <td>4</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "      <td>8.211198e+12</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>7443</td>\n",
       "      <td>4</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "      <td>6.810100e+04</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>7443</td>\n",
       "      <td>4</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2012</td>\n",
       "      <td>0</td>\n",
       "      <td>1.169712e+12</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   item_id  rating  size  year  split   num_user_id  fit_Slightly large  \\\n",
       "0     7443       4   NaN  2012      0  6.510810e+10                   0   \n",
       "1     7443       3   NaN  2012      0  9.997114e+30                   0   \n",
       "2     7443       4   NaN  2012      0  8.211198e+12                   0   \n",
       "3     7443       4   NaN  2012      0  6.810100e+04                   0   \n",
       "4     7443       4   NaN  2012      0  1.169712e+12                   0   \n",
       "\n",
       "   fit_Slightly small  fit_Very large  fit_Very small  user_attr_Small  \\\n",
       "0                   0               0               0                1   \n",
       "1                   0               0               0                0   \n",
       "2                   0               0               0                1   \n",
       "3                   0               0               0                0   \n",
       "4                   0               0               0                1   \n",
       "\n",
       "   model_attr_Small&Large  category_Dresses  category_Outerwear  category_Tops  \n",
       "0                       0                 1                   0              0  \n",
       "1                       0                 1                   0              0  \n",
       "2                       0                 1                   0              0  \n",
       "3                       0                 1                   0              0  \n",
       "4                       0                 1                   0              0  "
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cleaned_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "8250384a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(99892, 15)"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cleaned_data.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "id": "4c864a7a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['item_id', 'rating', 'size', 'year', 'split', 'num_user_id',\n",
       "       'fit_Slightly large', 'fit_Slightly small', 'fit_Very large',\n",
       "       'fit_Very small', 'user_attr_Small', 'model_attr_Small&Large',\n",
       "       'category_Dresses', 'category_Outerwear', 'category_Tops'],\n",
       "      dtype='object')"
      ]
     },
     "execution_count": 34,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cleaned_data.columns"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "17ff12cd",
   "metadata": {},
   "source": [
    "### Populating missing values for categorical data types"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 118,
   "id": "560f1f48",
   "metadata": {},
   "outputs": [],
   "source": [
    "products_data = cleaned_data.drop(['item_id', 'rating', 'num_user_id'], axis = 1)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b87392f2",
   "metadata": {},
   "source": [
    "Populating missing values using KNN imputer"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 91,
   "id": "386446f4",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>size</th>\n",
       "      <th>year</th>\n",
       "      <th>split</th>\n",
       "      <th>fit_Slightly large</th>\n",
       "      <th>fit_Slightly small</th>\n",
       "      <th>fit_Very large</th>\n",
       "      <th>fit_Very small</th>\n",
       "      <th>user_attr_Small</th>\n",
       "      <th>model_attr_Small&amp;Large</th>\n",
       "      <th>category_Dresses</th>\n",
       "      <th>category_Outerwear</th>\n",
       "      <th>category_Tops</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>NaN</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>NaN</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>NaN</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>NaN</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>NaN</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   size      year  split  fit_Slightly large  fit_Slightly small  \\\n",
       "0   NaN  0.222222    0.0                 0.0                 0.0   \n",
       "1   NaN  0.222222    0.0                 0.0                 0.0   \n",
       "2   NaN  0.222222    0.0                 0.0                 0.0   \n",
       "3   NaN  0.222222    0.0                 0.0                 0.0   \n",
       "4   NaN  0.222222    0.0                 0.0                 0.0   \n",
       "\n",
       "   fit_Very large  fit_Very small  user_attr_Small  model_attr_Small&Large  \\\n",
       "0             0.0             0.0              1.0                     0.0   \n",
       "1             0.0             0.0              0.0                     0.0   \n",
       "2             0.0             0.0              1.0                     0.0   \n",
       "3             0.0             0.0              0.0                     0.0   \n",
       "4             0.0             0.0              1.0                     0.0   \n",
       "\n",
       "   category_Dresses  category_Outerwear  category_Tops  \n",
       "0               1.0                 0.0            0.0  \n",
       "1               1.0                 0.0            0.0  \n",
       "2               1.0                 0.0            0.0  \n",
       "3               1.0                 0.0            0.0  \n",
       "4               1.0                 0.0            0.0  "
      ]
     },
     "execution_count": 91,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "scaler = MinMaxScaler()\n",
    "scaled_products_data = pd.DataFrame(scaler.fit_transform(products_data), columns = products_data.columns)\n",
    "scaled_products_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "id": "9fc00359",
   "metadata": {},
   "outputs": [],
   "source": [
    "def knn_imputer(df, n):\n",
    "    imputer = KNNImputer(n_neighbors = n)\n",
    "    df_trans = imputer.fit_transform(df)\n",
    "    return df_trans"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 92,
   "id": "a6ea6b42",
   "metadata": {},
   "outputs": [],
   "source": [
    "data_trans = knn_imputer(scaled_products_data, 5) "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 93,
   "id": "2b6e9f1a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "size                      False\n",
       "year                      False\n",
       "split                     False\n",
       "fit_Slightly large        False\n",
       "fit_Slightly small        False\n",
       "fit_Very large            False\n",
       "fit_Very small            False\n",
       "user_attr_Small           False\n",
       "model_attr_Small&Large    False\n",
       "category_Dresses          False\n",
       "category_Outerwear        False\n",
       "category_Tops             False\n",
       "dtype: bool"
      ]
     },
     "execution_count": 93,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "processed_products_data = pd.DataFrame(data_trans, columns = products_data.columns)\n",
    "processed_products_data.isna().any()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 94,
   "id": "7442198e",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>size</th>\n",
       "      <th>year</th>\n",
       "      <th>split</th>\n",
       "      <th>fit_Slightly large</th>\n",
       "      <th>fit_Slightly small</th>\n",
       "      <th>fit_Very large</th>\n",
       "      <th>fit_Very small</th>\n",
       "      <th>user_attr_Small</th>\n",
       "      <th>model_attr_Small&amp;Large</th>\n",
       "      <th>category_Dresses</th>\n",
       "      <th>category_Outerwear</th>\n",
       "      <th>category_Tops</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.275</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.725</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.275</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.725</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.275</td>\n",
       "      <td>0.222222</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "    size      year  split  fit_Slightly large  fit_Slightly small  \\\n",
       "0  0.275  0.222222    0.0                 0.0                 0.0   \n",
       "1  0.725  0.222222    0.0                 0.0                 0.0   \n",
       "2  0.275  0.222222    0.0                 0.0                 0.0   \n",
       "3  0.725  0.222222    0.0                 0.0                 0.0   \n",
       "4  0.275  0.222222    0.0                 0.0                 0.0   \n",
       "\n",
       "   fit_Very large  fit_Very small  user_attr_Small  model_attr_Small&Large  \\\n",
       "0             0.0             0.0              1.0                     0.0   \n",
       "1             0.0             0.0              0.0                     0.0   \n",
       "2             0.0             0.0              1.0                     0.0   \n",
       "3             0.0             0.0              0.0                     0.0   \n",
       "4             0.0             0.0              1.0                     0.0   \n",
       "\n",
       "   category_Dresses  category_Outerwear  category_Tops  \n",
       "0               1.0                 0.0            0.0  \n",
       "1               1.0                 0.0            0.0  \n",
       "2               1.0                 0.0            0.0  \n",
       "3               1.0                 0.0            0.0  \n",
       "4               1.0                 0.0            0.0  "
      ]
     },
     "execution_count": 94,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "processed_products_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 146,
   "id": "4ceeef89",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/judith/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:2: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  \n"
     ]
    }
   ],
   "source": [
    "ratings = raw_data[['item_id', 'user_id','rating']]\n",
    "ratings.dropna(subset = ['user_id'], inplace = True)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f7942279",
   "metadata": {},
   "source": [
    "### Writing the processed data as csv to input EDA notebook"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 147,
   "id": "f673153f",
   "metadata": {},
   "outputs": [],
   "source": [
    "ratings.to_csv(r'/Users/judith/Data_science_projects/Springboard_AssignmentsJY/capstone_three/data/processed/processed_ratings_data.csv', index=False)\n",
    "processed_products_data.to_csv(r'/Users/judith/Data_science_projects/Springboard_AssignmentsJY/capstone_three/data/processed/processed_products_data.csv', index=False)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "74375dcf",
   "metadata": {},
   "source": [
    "**Key takeouts:**\n",
    "- There are far more customers than products with a ratio of 43 purchases per customers\n",
    "- Rating data are cleaned without any gap from a scale from 1 to 5\n",
    "- Additional data includes characteristics of products such as size, model, category...ect\n",
    "- We dont have information regarding users other than their ID and products they purchased\n",
    "- Though the brand purchased seemed to be an important feature, we had to discard it as most products are not tagged with a brand name\n",
    "- There are 'very popular' items with high numbers of rating while others have much lower number of rating"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
